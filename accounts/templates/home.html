<!DOCTYPE>
<html>
	<body background="https://www.stcqa.com/wp-content/uploads/2018/03/Website-Design-Background.jpg"></body>
<head>
	<title>FUTSUB-Complete Advertaisment Site</title>
	<a href="http://localhost:8000/accounts/reg/" id=registration >User Registraion</a>
	<a href="review.html" id="review">User Review</a>
	<style type="text/css">
		h1 {
			text-align: center;
			color: yellow;
			font-size: 50px;
		}
		.compare {
			padding-top: 40px;
			font-size: 25px;
			padding-left: 25px;
			padding-left: 100px;
			font-size:50px;
			padding-bottom: 20px;
		}
		.channels{
			padding-bottom: 50px;
			padding-right: 50px;
		}
		.one{
			padding-bottom: 20px;
			padding-left: 50px;
			font-size: 20px;
			display: inline-block;
			padding-right: 350px;
		}
		.two{
			padding-left: 50px;
			font-size: 20px;
			display: inline-block;
		}
		.box1{
			font-size: 20px;
			display: inline-block;
			width: 120px;
		}
		.box2{
			font-size: 20px;
			display: inline-block;
			width: 120px;
		}
		.yofoll{
			font-size: 25px;
			padding-left: 40px;
			padding-top: 1px;
		}
		#textbox1{
			padding-right: 60px;
			display: inline-block;
			padding-left: 5px;
			padding-top: 10px;

		}
		#textbox2{
			padding-right: 60px;
			display: inline-block;
			padding-left: 5px;
		}
		.yofoll1{
			font-size: 25px;
			padding-left: 40px;
			padding-top: 1px;
			left: 20%;
		}
		#textbox3{
			padding-right: 60px;
			display: inline-block;
			padding-left: 5px;
			padding-top: 10px;

		}
		#textbox4{
			padding-right: 50px;
			display: inline-block;
			padding-left: 5px;
		}
		.wrapper{
			text-align: center;
		}
		.button{
			position: absolute;
			top: 40%;
			display: inline;
			left: 38%;
			width: 20em;
			height: 2em;
		}
		#registration{
			position: absolute;
			bottom: 80%;
			color: black;
			right: 60%;
			font-size: 170%;
		}
		#review{
			position: absolute;
			bottom: 80%;
			color: black;
			right: 30%;
			font-size: 170%;	
		}
	</style>
</head>
<body>
	<h1>FUTSUB-Taking You To The Best Of Youtube</h1>
	<div class="compare">
		<form class="channels">
			<div class="one">
				<h2>Channel1:
					<select class ="box1" name="Channel1" id="s1">
						<option value="pewdiepie">
							pewdiepie
						</option>
						<option value="tseries">
							T-series
						</option>
						<option value="coldplay">
							coldplay
						</option>
					</select>
				</h2>
			</div>
			<div class="two">
				<h2>Channel2:
					<select class="box2" name="Channel2" id="s2">
						<option value="pewdiepie">
							pewdiepie
						</option>
						<option value="tseries">
							T-series
						</option>
						<option value="coldplay">
							coldplay
						</option>
					</select>
				</h2>
			</div>
		</form>
		<div class="wrapper">
				<button type="button" class="button" onclick="fntion()">Submit</button>
		</div>
		<form class="yofoll">
			<h3 id="textbox1">Channel 1 Suscribers:
				{{ no_subs1 }}
			</h3>
				<h3 id="textbox2">Channel 2 Suscribers:
				{{ no_subs2 }}
			    </h3>
		</form>
		<form class="yofoll1">
				<h3 id="textbox3">Channel1 Avg viewers:
					{{ no_subs1 }}
				</h3>
				<h3 id="textbox4">Channel2 Avg Viewers:
				{{ no_subs2 }}
			    </h3>
		</form>
<script >

function fntion()
{
	console.log("button clicked");
	var e1 = document.getElementById("s1");
    var channel1 = e1.options[e1.selectedIndex].text;

	var e2 = document.getElementById("s2");
    var channel2 = e2.options[e2.selectedIndex].text;
    console.log(channel1);
	console.log(channel2);
  fetch('http://localhost:8000/accounts/clicked/',{
    method:'post',
    body:JSON.stringify({"channel1":channel1,
	      "channel2":channel2})
	  })

  .then((res) => res.json()).then((data) =>
  {

	document.getElementById("textbox1").innerHTML="Channel 1 Suscribers:"+data["no_subs1"];
	document.getElementById("textbox2").innerHTML="Channel 2 Suscribers:"+data["no_subs2"];
    document.getElementById("textbox3").innerHTML="Channel1 Avg viewers:"+data["avg_view1"];
	document.getElementById("textbox4").innerHTML="Channel2 Avg viewers:"+data["avg_view2"];

  }
);

    //console.log(jsonObject);
    //debugger;
}

</script>

</body>
</html>
